# 01-requirements

## 상품

### [유저 스토리]

- **브랜드 정보를 조회할 수 있다.**

**기능적 요구사항 (Functional Requirements)**

**[Happy Path]**

1. 사용자는 브랜드 정보를 조회할 수 있다.
2. 브랜드 정보는 이름, description, 이미지 등이 포함된다.
3. 브랜드의 상품 정보를 최신 순으로 5개까지 보여준다.

**[Failure Cases]**

1. 브랜드 정보가 존재하지 않으면 오류를 반환한다.
2. **브랜드에 등록된 상품이 존재하지 않으면 빈 상품 목록을 반환한다.**

- 오류 및 예외 상황에 대한 오류 코드는 아래와 같다.

| **Case** | **설명** | **HTTP 응답 코드** |
| --- | --- | --- |
| 브랜드 미존재 | 브랜드가 존재하지 않음 | 404 Not Found |
| 상품이 0개 | 브랜드는 존재하지만 상품이 0개 | 200 Success |

### [유저 스토리]

- **상품 목록을 조회할 수 있다.**
- **상품 목록 조회 시, 필터링과 정렬 기능을 사용할 수 있다.**

**기능적 요구사항 (Functional Requirements)**

**[Happy Path]**

1. 사용자는 상품 목록을 조회할 수 있다.
2. 상품의 상태 (판매 중, 일시품절 등) 의 정보가 포함된다.
3. 브랜드 별로 상품을 조회할 수 있다.
4. 브랜드는 N 개 선택이 가능하다.
5. 최신순, 가격 낮은 순, 가격 높은 순, 좋아요 낮은 순, 좋아요 높은 순 으로 정렬을 할 수 있다.
6. 상품 목록은 페이지로 보이며, 한 페이지당 상품 수는 조절할 수 있다.

**[Failure Cases]**

1. 필터링 기준이 없으면 모든 브랜드로 조회한다.
2. 정렬 기준이 없으면 “최신 순” 를 기본으로 한다.
3. 조회된 상품이 0개여도 오류를 반환하지 않는다.
4. **필터링 조건이 단 건인 경우, 해당하는 “브랜드”가 없으면 오류를 반환한다. (ProductService 를 제거함)**

- 오류 및 예외 상황에 대한 오류 코드는 아래와 같다.

| **Case** | **설명** | **HTTP 응답 코드** |
| --- | --- | --- |
| 브랜드 선택이 1개인 경우  | 브랜드가 존재하지 않음 | 200 Success |
| 브랜드 선택이 N개인 경우 | 브랜드 일부가 존재하지 않음 | 200 Success |
| 상품이 0개 | 브랜드는 존재하지만 상품이 0개 | 200 Success |

### [유저 스토리]

- **상품 상세 정보를 조회할 수 있다.**

**기능적 요구사항 (Functional Requirements)**

**[Happy Path]**

1. 상품의 상세 정보를 조회할 수 있다.

**[Failure Cases]**

1. 상품의 정보가 존재하지 않으면, 오류를 반환한다.
2. 상품의 브랜드 정보가 존재하지 않으면 오류를 반환한다.

- 오류 및 예외 상황에 대한 오류 코드는 아래와 같다.

| **Case** | **설명** | **HTTP 응답 코드** |
| --- | --- | --- |
| 상품이 미존재 | 상품이 존재하지 않음 | 404 Not Found |
| 상품의 브랜드가 미존재 | 상품의 브랜드가 존재하지 않음 | 404 Not Found |

## 좋아요

### [유저 스토리]

- **상품에 좋아요를 등록한다.**

**기능적 요구사항 (Functional Requirements)**

**[Happy Path]**

1. 로그인한 사용자만 좋아요를 누를 수 있다.
2. 상품에 좋아요는 한번만 누를 수 있다.

**[Failure Cases]**

1. 로그인하지 않는 사용자는 오류를 반환한다.
2. 상품이 존재하지 않는 경우 오류를 반환한다.

- 오류 및 예외 상황에 대한 오류 코드는 아래와 같다.

| **Case** | **설명** | **HTTP 응답 코드** |
| --- | --- | --- |
| 미로그인 | 로그인 상태가 아님 | 401 Unauthorized |
| 상품이 미존재 | 상품이 존재하지 않음 | 404 Not Found |

### [유저 스토리]

- 좋아요를 취소할 수 있다.

**기능적 요구사항 (Functional Requirements)**

**[Happy Path]**

1. 로그인한 사용자만 좋아요를 취소할 수 있다.
2. 이미 좋아요를 누른 사용자만 좋아요를 취소할 수 있다.
3. 좋아요를 누른 이력이 없으면 빈 데이터를 반환한다.

**[Failure Cases]**

1. 로그인하지 않는 사용자는 오류를 반환한다.

- 오류 및 예외 상황에 대한 오류 코드는 아래와 같다.

| **Case** | **설명** | **HTTP 응답 코드** |
| --- | --- | --- |
| 미로그인 | 로그인 상태가 아님 | 401 Unauthorized |

### [유저 스토리]

- **내가 좋아요 한 상품 목록을 조회한다.**

**기능적 요구사항 (Functional Requirements)**

**[Happy Path]**

1. 로그인한 사용자만 조회가 가능하다.
2. 좋아요한 상품 목록은 페이지 당 20개씩 조회할 수 있다.
3. 상품의 상태 정보를 확인할 수 있다. (판매 중 여부)
4. 좋아요한 상품이 없으면 빈 데이터를 반환한다.

**[Failure Cases]**

1. 로그인하지 않는 사용자는 오류를 반환한다.

- 오류 및 예외 상황에 대한 오류 코드는 아래와 같다.

| **Case** | **설명** | **HTTP 응답 코드** |
| --- | --- | --- |
| 미로그인 | 로그인 상태가 아님 | 401 Unauthorized |
| 좋아요한 개수가 0개 | 좋아요한 상품이 없음 | 200 Success |

## 주문

### [유저 스토리]

- **사용자는 주문을 할 수 있다.**

**기능적 요구사항 (Functional Requirements)**

**[Happy Path]**

1. 로그인한 사용자만 주문을 할 수 있다.
2. 주문은 한번에 N 개의 상품을 M 개씩 주문할 수 있다.
3. 주문에 성공할 경우, 외부 시스템에 알림을 줄 수 있어야 한다.

**[Failure Cases]**

1. 로그인하지 않은 사용자는 오류를 반환한다.
2. 주문한 상품의 수량이 부족하면 오류를 반환한다.
3. 주문한 상품이 “판매 중” 이 아니면 오류를 반환한다.
4. 사용자의 포인트가 부족하면 오류를 반환한다.

- 오류 상황에 대한 오류 코드는 아래와 같다.

| **Case** | **설명** | **HTTP 응답 코드** |
| --- | --- | --- |
| 미로그인 | 로그인 상태가 아님 | 401 Unauthorized |
| 상품이 판매중 상태가 아님 | 상품이 판매중 외 상태 (일시품절, 판매중단 등) | 409 Conflict |
| 주문 수량이 상품 수량을 초과함 | 비즈니스 룰을 벗어나는 예외 | 400 Bad Request |
| 사용자의 포인트가 부족 | 사용자의 포인트가 부족하는 경우 | 409 Conflict |

### [유저 스토리]

- **사용자의 주문 목록을 조회할 수 있다.**

**기능적 요구사항 (Functional Requirements)**

**[Happy Path]**

1. 로그인한 사용자만 조회할 수 있다.
2. 사용자의 주문 목록이 있으면 조회할 수 있다.
3. 주문 목록은 페이지 당 20건씩 조회가 가능하다.
4. 정렬 기준은 최신 주문 순으로 조회가 가능하다.
5. 주문 별로 주문 상품 목록과 수량을 확인할 수 있다.
6. 주문 목록이 없으면 빈 데이터를 반환한다.

**[Failure Cases]**

1. 로그인하지 않은 사용자는 오류를 반환한다.

- 오류 상황에 대한 오류 코드는 아래와 같다.

| **Case** | **설명** | **HTTP 응답 코드** |
| --- | --- | --- |
| 미로그인 | 로그인 상태가 아님 | 401 Unauthorized |

### [유저 스토리]

- **단일 주문 상세 조회를 할 수 있다.**

**기능적 요구사항 (Functional Requirements)**

**[Happy Path]**

1. 로그인한 사용자만 조회할 수 있다.
2. 주문에 대한 상세 조회를 할 수 있다.

**[Failure Cases]**

1. 로그인하지 않은 사용자는 오류를 반환한다.
2. 주문 정보가 없는 경우 오류를 반환한다.

- 오류 상황에 대한 오류 코드는 아래와 같다.

| **Case** | **설명** | **HTTP 응답 코드** |
| --- | --- | --- |
| 미로그인 | 로그인 상태가 아님 | 401 Unauthorized |
| 주문 정보가 미존재 | 주문 정보가 존재하지 않음  | 404 Not Found |